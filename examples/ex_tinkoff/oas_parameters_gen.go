// Code generated by ogen, DO NOT EDIT.

package api

import (
	"net/http"
	"time"

	"github.com/go-faster/errors"

	"github.com/ogen-go/ogen/conv"
	"github.com/ogen-go/ogen/uri"
)

// MarketCandlesGetParams is parameters of GET /market/candles operation.
type MarketCandlesGetParams struct {
	// FIGI.
	Figi string
	// Начало временного промежутка.
	From time.Time
	// Конец временного промежутка.
	To time.Time
	// Интервал свечи.
	Interval CandleResolution
}

func unpackMarketCandlesGetParams(packed map[string]any) (params MarketCandlesGetParams) {
	params.Figi = packed["figi"].(string)
	params.From = packed["from"].(time.Time)
	params.To = packed["to"].(time.Time)
	params.Interval = packed["interval"].(CandleResolution)
	return params
}

func decodeMarketCandlesGetParams(args [0]string, r *http.Request) (params MarketCandlesGetParams, _ error) {
	q := uri.NewQueryDecoder(r.URL.Query())
	// Decode query: figi.
	{
		cfg := uri.QueryParameterDecodingConfig{
			Name:    "figi",
			Style:   uri.QueryStyleForm,
			Explode: true,
		}

		if err := q.HasParam(cfg); err == nil {
			if err := q.DecodeParam(cfg, func(d uri.Decoder) error {
				val, err := d.DecodeValue()
				if err != nil {
					return err
				}

				c, err := conv.ToString(val)
				if err != nil {
					return err
				}

				params.Figi = c
				return nil
			}); err != nil {
				return params, errors.Wrap(err, "query: figi: parse")
			}
		} else {
			return params, errors.Wrap(err, "query")
		}
	}
	// Decode query: from.
	{
		cfg := uri.QueryParameterDecodingConfig{
			Name:    "from",
			Style:   uri.QueryStyleForm,
			Explode: true,
		}

		if err := q.HasParam(cfg); err == nil {
			if err := q.DecodeParam(cfg, func(d uri.Decoder) error {
				val, err := d.DecodeValue()
				if err != nil {
					return err
				}

				c, err := conv.ToDateTime(val)
				if err != nil {
					return err
				}

				params.From = c
				return nil
			}); err != nil {
				return params, errors.Wrap(err, "query: from: parse")
			}
		} else {
			return params, errors.Wrap(err, "query")
		}
	}
	// Decode query: to.
	{
		cfg := uri.QueryParameterDecodingConfig{
			Name:    "to",
			Style:   uri.QueryStyleForm,
			Explode: true,
		}

		if err := q.HasParam(cfg); err == nil {
			if err := q.DecodeParam(cfg, func(d uri.Decoder) error {
				val, err := d.DecodeValue()
				if err != nil {
					return err
				}

				c, err := conv.ToDateTime(val)
				if err != nil {
					return err
				}

				params.To = c
				return nil
			}); err != nil {
				return params, errors.Wrap(err, "query: to: parse")
			}
		} else {
			return params, errors.Wrap(err, "query")
		}
	}
	// Decode query: interval.
	{
		cfg := uri.QueryParameterDecodingConfig{
			Name:    "interval",
			Style:   uri.QueryStyleForm,
			Explode: true,
		}

		if err := q.HasParam(cfg); err == nil {
			if err := q.DecodeParam(cfg, func(d uri.Decoder) error {
				val, err := d.DecodeValue()
				if err != nil {
					return err
				}

				c, err := conv.ToString(val)
				if err != nil {
					return err
				}

				params.Interval = CandleResolution(c)
				return nil
			}); err != nil {
				return params, errors.Wrap(err, "query: interval: parse")
			}
			if err := func() error {
				if err := params.Interval.Validate(); err != nil {
					return err
				}
				return nil
			}(); err != nil {
				return params, errors.Wrap(err, "query: interval: invalid")
			}
		} else {
			return params, errors.Wrap(err, "query")
		}
	}
	return params, nil
}

// MarketOrderbookGetParams is parameters of GET /market/orderbook operation.
type MarketOrderbookGetParams struct {
	// FIGI.
	Figi string
	// Глубина стакана [1..20].
	Depth int32
}

func unpackMarketOrderbookGetParams(packed map[string]any) (params MarketOrderbookGetParams) {
	params.Figi = packed["figi"].(string)
	params.Depth = packed["depth"].(int32)
	return params
}

func decodeMarketOrderbookGetParams(args [0]string, r *http.Request) (params MarketOrderbookGetParams, _ error) {
	q := uri.NewQueryDecoder(r.URL.Query())
	// Decode query: figi.
	{
		cfg := uri.QueryParameterDecodingConfig{
			Name:    "figi",
			Style:   uri.QueryStyleForm,
			Explode: true,
		}

		if err := q.HasParam(cfg); err == nil {
			if err := q.DecodeParam(cfg, func(d uri.Decoder) error {
				val, err := d.DecodeValue()
				if err != nil {
					return err
				}

				c, err := conv.ToString(val)
				if err != nil {
					return err
				}

				params.Figi = c
				return nil
			}); err != nil {
				return params, errors.Wrap(err, "query: figi: parse")
			}
		} else {
			return params, errors.Wrap(err, "query")
		}
	}
	// Decode query: depth.
	{
		cfg := uri.QueryParameterDecodingConfig{
			Name:    "depth",
			Style:   uri.QueryStyleForm,
			Explode: true,
		}

		if err := q.HasParam(cfg); err == nil {
			if err := q.DecodeParam(cfg, func(d uri.Decoder) error {
				val, err := d.DecodeValue()
				if err != nil {
					return err
				}

				c, err := conv.ToInt32(val)
				if err != nil {
					return err
				}

				params.Depth = c
				return nil
			}); err != nil {
				return params, errors.Wrap(err, "query: depth: parse")
			}
		} else {
			return params, errors.Wrap(err, "query")
		}
	}
	return params, nil
}

// MarketSearchByFigiGetParams is parameters of GET /market/search/by-figi operation.
type MarketSearchByFigiGetParams struct {
	// FIGI.
	Figi string
}

func unpackMarketSearchByFigiGetParams(packed map[string]any) (params MarketSearchByFigiGetParams) {
	params.Figi = packed["figi"].(string)
	return params
}

func decodeMarketSearchByFigiGetParams(args [0]string, r *http.Request) (params MarketSearchByFigiGetParams, _ error) {
	q := uri.NewQueryDecoder(r.URL.Query())
	// Decode query: figi.
	{
		cfg := uri.QueryParameterDecodingConfig{
			Name:    "figi",
			Style:   uri.QueryStyleForm,
			Explode: true,
		}

		if err := q.HasParam(cfg); err == nil {
			if err := q.DecodeParam(cfg, func(d uri.Decoder) error {
				val, err := d.DecodeValue()
				if err != nil {
					return err
				}

				c, err := conv.ToString(val)
				if err != nil {
					return err
				}

				params.Figi = c
				return nil
			}); err != nil {
				return params, errors.Wrap(err, "query: figi: parse")
			}
		} else {
			return params, errors.Wrap(err, "query")
		}
	}
	return params, nil
}

// MarketSearchByTickerGetParams is parameters of GET /market/search/by-ticker operation.
type MarketSearchByTickerGetParams struct {
	// Тикер инструмента.
	Ticker string
}

func unpackMarketSearchByTickerGetParams(packed map[string]any) (params MarketSearchByTickerGetParams) {
	params.Ticker = packed["ticker"].(string)
	return params
}

func decodeMarketSearchByTickerGetParams(args [0]string, r *http.Request) (params MarketSearchByTickerGetParams, _ error) {
	q := uri.NewQueryDecoder(r.URL.Query())
	// Decode query: ticker.
	{
		cfg := uri.QueryParameterDecodingConfig{
			Name:    "ticker",
			Style:   uri.QueryStyleForm,
			Explode: true,
		}

		if err := q.HasParam(cfg); err == nil {
			if err := q.DecodeParam(cfg, func(d uri.Decoder) error {
				val, err := d.DecodeValue()
				if err != nil {
					return err
				}

				c, err := conv.ToString(val)
				if err != nil {
					return err
				}

				params.Ticker = c
				return nil
			}); err != nil {
				return params, errors.Wrap(err, "query: ticker: parse")
			}
		} else {
			return params, errors.Wrap(err, "query")
		}
	}
	return params, nil
}

// OperationsGetParams is parameters of GET /operations operation.
type OperationsGetParams struct {
	// Начало временного промежутка.
	From time.Time
	// Конец временного промежутка.
	To time.Time
	// Figi инструмента для фильтрации.
	Figi OptString `json:",omitempty"`
	// Номер счета (по умолчанию - Тинькофф).
	BrokerAccountId OptString `json:",omitempty"`
}

func unpackOperationsGetParams(packed map[string]any) (params OperationsGetParams) {
	params.From = packed["from"].(time.Time)
	params.To = packed["to"].(time.Time)
	if v, ok := packed["figi"]; ok {
		params.Figi = v.(OptString)
	}
	if v, ok := packed["brokerAccountId"]; ok {
		params.BrokerAccountId = v.(OptString)
	}
	return params
}

func decodeOperationsGetParams(args [0]string, r *http.Request) (params OperationsGetParams, _ error) {
	q := uri.NewQueryDecoder(r.URL.Query())
	// Decode query: from.
	{
		cfg := uri.QueryParameterDecodingConfig{
			Name:    "from",
			Style:   uri.QueryStyleForm,
			Explode: true,
		}

		if err := q.HasParam(cfg); err == nil {
			if err := q.DecodeParam(cfg, func(d uri.Decoder) error {
				val, err := d.DecodeValue()
				if err != nil {
					return err
				}

				c, err := conv.ToDateTime(val)
				if err != nil {
					return err
				}

				params.From = c
				return nil
			}); err != nil {
				return params, errors.Wrap(err, "query: from: parse")
			}
		} else {
			return params, errors.Wrap(err, "query")
		}
	}
	// Decode query: to.
	{
		cfg := uri.QueryParameterDecodingConfig{
			Name:    "to",
			Style:   uri.QueryStyleForm,
			Explode: true,
		}

		if err := q.HasParam(cfg); err == nil {
			if err := q.DecodeParam(cfg, func(d uri.Decoder) error {
				val, err := d.DecodeValue()
				if err != nil {
					return err
				}

				c, err := conv.ToDateTime(val)
				if err != nil {
					return err
				}

				params.To = c
				return nil
			}); err != nil {
				return params, errors.Wrap(err, "query: to: parse")
			}
		} else {
			return params, errors.Wrap(err, "query")
		}
	}
	// Decode query: figi.
	{
		cfg := uri.QueryParameterDecodingConfig{
			Name:    "figi",
			Style:   uri.QueryStyleForm,
			Explode: true,
		}

		if err := q.HasParam(cfg); err == nil {
			if err := q.DecodeParam(cfg, func(d uri.Decoder) error {
				var paramsDotFigiVal string
				if err := func() error {
					val, err := d.DecodeValue()
					if err != nil {
						return err
					}

					c, err := conv.ToString(val)
					if err != nil {
						return err
					}

					paramsDotFigiVal = c
					return nil
				}(); err != nil {
					return err
				}
				params.Figi.SetTo(paramsDotFigiVal)
				return nil
			}); err != nil {
				return params, errors.Wrap(err, "query: figi: parse")
			}
		}
	}
	// Decode query: brokerAccountId.
	{
		cfg := uri.QueryParameterDecodingConfig{
			Name:    "brokerAccountId",
			Style:   uri.QueryStyleForm,
			Explode: true,
		}

		if err := q.HasParam(cfg); err == nil {
			if err := q.DecodeParam(cfg, func(d uri.Decoder) error {
				var paramsDotBrokerAccountIdVal string
				if err := func() error {
					val, err := d.DecodeValue()
					if err != nil {
						return err
					}

					c, err := conv.ToString(val)
					if err != nil {
						return err
					}

					paramsDotBrokerAccountIdVal = c
					return nil
				}(); err != nil {
					return err
				}
				params.BrokerAccountId.SetTo(paramsDotBrokerAccountIdVal)
				return nil
			}); err != nil {
				return params, errors.Wrap(err, "query: brokerAccountId: parse")
			}
		}
	}
	return params, nil
}

// OrdersCancelPostParams is parameters of POST /orders/cancel operation.
type OrdersCancelPostParams struct {
	// ID заявки.
	OrderId string
	// Номер счета (по умолчанию - Тинькофф).
	BrokerAccountId OptString `json:",omitempty"`
}

func unpackOrdersCancelPostParams(packed map[string]any) (params OrdersCancelPostParams) {
	params.OrderId = packed["orderId"].(string)
	if v, ok := packed["brokerAccountId"]; ok {
		params.BrokerAccountId = v.(OptString)
	}
	return params
}

func decodeOrdersCancelPostParams(args [0]string, r *http.Request) (params OrdersCancelPostParams, _ error) {
	q := uri.NewQueryDecoder(r.URL.Query())
	// Decode query: orderId.
	{
		cfg := uri.QueryParameterDecodingConfig{
			Name:    "orderId",
			Style:   uri.QueryStyleForm,
			Explode: true,
		}

		if err := q.HasParam(cfg); err == nil {
			if err := q.DecodeParam(cfg, func(d uri.Decoder) error {
				val, err := d.DecodeValue()
				if err != nil {
					return err
				}

				c, err := conv.ToString(val)
				if err != nil {
					return err
				}

				params.OrderId = c
				return nil
			}); err != nil {
				return params, errors.Wrap(err, "query: orderId: parse")
			}
		} else {
			return params, errors.Wrap(err, "query")
		}
	}
	// Decode query: brokerAccountId.
	{
		cfg := uri.QueryParameterDecodingConfig{
			Name:    "brokerAccountId",
			Style:   uri.QueryStyleForm,
			Explode: true,
		}

		if err := q.HasParam(cfg); err == nil {
			if err := q.DecodeParam(cfg, func(d uri.Decoder) error {
				var paramsDotBrokerAccountIdVal string
				if err := func() error {
					val, err := d.DecodeValue()
					if err != nil {
						return err
					}

					c, err := conv.ToString(val)
					if err != nil {
						return err
					}

					paramsDotBrokerAccountIdVal = c
					return nil
				}(); err != nil {
					return err
				}
				params.BrokerAccountId.SetTo(paramsDotBrokerAccountIdVal)
				return nil
			}); err != nil {
				return params, errors.Wrap(err, "query: brokerAccountId: parse")
			}
		}
	}
	return params, nil
}

// OrdersGetParams is parameters of GET /orders operation.
type OrdersGetParams struct {
	// Номер счета (по умолчанию - Тинькофф).
	BrokerAccountId OptString `json:",omitempty"`
}

func unpackOrdersGetParams(packed map[string]any) (params OrdersGetParams) {
	if v, ok := packed["brokerAccountId"]; ok {
		params.BrokerAccountId = v.(OptString)
	}
	return params
}

func decodeOrdersGetParams(args [0]string, r *http.Request) (params OrdersGetParams, _ error) {
	q := uri.NewQueryDecoder(r.URL.Query())
	// Decode query: brokerAccountId.
	{
		cfg := uri.QueryParameterDecodingConfig{
			Name:    "brokerAccountId",
			Style:   uri.QueryStyleForm,
			Explode: true,
		}

		if err := q.HasParam(cfg); err == nil {
			if err := q.DecodeParam(cfg, func(d uri.Decoder) error {
				var paramsDotBrokerAccountIdVal string
				if err := func() error {
					val, err := d.DecodeValue()
					if err != nil {
						return err
					}

					c, err := conv.ToString(val)
					if err != nil {
						return err
					}

					paramsDotBrokerAccountIdVal = c
					return nil
				}(); err != nil {
					return err
				}
				params.BrokerAccountId.SetTo(paramsDotBrokerAccountIdVal)
				return nil
			}); err != nil {
				return params, errors.Wrap(err, "query: brokerAccountId: parse")
			}
		}
	}
	return params, nil
}

// OrdersLimitOrderPostParams is parameters of POST /orders/limit-order operation.
type OrdersLimitOrderPostParams struct {
	// FIGI инструмента.
	Figi string
	// Номер счета (по умолчанию - Тинькофф).
	BrokerAccountId OptString `json:",omitempty"`
}

func unpackOrdersLimitOrderPostParams(packed map[string]any) (params OrdersLimitOrderPostParams) {
	params.Figi = packed["figi"].(string)
	if v, ok := packed["brokerAccountId"]; ok {
		params.BrokerAccountId = v.(OptString)
	}
	return params
}

func decodeOrdersLimitOrderPostParams(args [0]string, r *http.Request) (params OrdersLimitOrderPostParams, _ error) {
	q := uri.NewQueryDecoder(r.URL.Query())
	// Decode query: figi.
	{
		cfg := uri.QueryParameterDecodingConfig{
			Name:    "figi",
			Style:   uri.QueryStyleForm,
			Explode: true,
		}

		if err := q.HasParam(cfg); err == nil {
			if err := q.DecodeParam(cfg, func(d uri.Decoder) error {
				val, err := d.DecodeValue()
				if err != nil {
					return err
				}

				c, err := conv.ToString(val)
				if err != nil {
					return err
				}

				params.Figi = c
				return nil
			}); err != nil {
				return params, errors.Wrap(err, "query: figi: parse")
			}
		} else {
			return params, errors.Wrap(err, "query")
		}
	}
	// Decode query: brokerAccountId.
	{
		cfg := uri.QueryParameterDecodingConfig{
			Name:    "brokerAccountId",
			Style:   uri.QueryStyleForm,
			Explode: true,
		}

		if err := q.HasParam(cfg); err == nil {
			if err := q.DecodeParam(cfg, func(d uri.Decoder) error {
				var paramsDotBrokerAccountIdVal string
				if err := func() error {
					val, err := d.DecodeValue()
					if err != nil {
						return err
					}

					c, err := conv.ToString(val)
					if err != nil {
						return err
					}

					paramsDotBrokerAccountIdVal = c
					return nil
				}(); err != nil {
					return err
				}
				params.BrokerAccountId.SetTo(paramsDotBrokerAccountIdVal)
				return nil
			}); err != nil {
				return params, errors.Wrap(err, "query: brokerAccountId: parse")
			}
		}
	}
	return params, nil
}

// OrdersMarketOrderPostParams is parameters of POST /orders/market-order operation.
type OrdersMarketOrderPostParams struct {
	// FIGI инструмента.
	Figi string
	// Уникальный идентификатор счета (по умолчанию -
	// Тинькофф).
	BrokerAccountId OptString `json:",omitempty"`
}

func unpackOrdersMarketOrderPostParams(packed map[string]any) (params OrdersMarketOrderPostParams) {
	params.Figi = packed["figi"].(string)
	if v, ok := packed["brokerAccountId"]; ok {
		params.BrokerAccountId = v.(OptString)
	}
	return params
}

func decodeOrdersMarketOrderPostParams(args [0]string, r *http.Request) (params OrdersMarketOrderPostParams, _ error) {
	q := uri.NewQueryDecoder(r.URL.Query())
	// Decode query: figi.
	{
		cfg := uri.QueryParameterDecodingConfig{
			Name:    "figi",
			Style:   uri.QueryStyleForm,
			Explode: true,
		}

		if err := q.HasParam(cfg); err == nil {
			if err := q.DecodeParam(cfg, func(d uri.Decoder) error {
				val, err := d.DecodeValue()
				if err != nil {
					return err
				}

				c, err := conv.ToString(val)
				if err != nil {
					return err
				}

				params.Figi = c
				return nil
			}); err != nil {
				return params, errors.Wrap(err, "query: figi: parse")
			}
		} else {
			return params, errors.Wrap(err, "query")
		}
	}
	// Decode query: brokerAccountId.
	{
		cfg := uri.QueryParameterDecodingConfig{
			Name:    "brokerAccountId",
			Style:   uri.QueryStyleForm,
			Explode: true,
		}

		if err := q.HasParam(cfg); err == nil {
			if err := q.DecodeParam(cfg, func(d uri.Decoder) error {
				var paramsDotBrokerAccountIdVal string
				if err := func() error {
					val, err := d.DecodeValue()
					if err != nil {
						return err
					}

					c, err := conv.ToString(val)
					if err != nil {
						return err
					}

					paramsDotBrokerAccountIdVal = c
					return nil
				}(); err != nil {
					return err
				}
				params.BrokerAccountId.SetTo(paramsDotBrokerAccountIdVal)
				return nil
			}); err != nil {
				return params, errors.Wrap(err, "query: brokerAccountId: parse")
			}
		}
	}
	return params, nil
}

// PortfolioCurrenciesGetParams is parameters of GET /portfolio/currencies operation.
type PortfolioCurrenciesGetParams struct {
	// Номер счета (по умолчанию - Тинькофф).
	BrokerAccountId OptString `json:",omitempty"`
}

func unpackPortfolioCurrenciesGetParams(packed map[string]any) (params PortfolioCurrenciesGetParams) {
	if v, ok := packed["brokerAccountId"]; ok {
		params.BrokerAccountId = v.(OptString)
	}
	return params
}

func decodePortfolioCurrenciesGetParams(args [0]string, r *http.Request) (params PortfolioCurrenciesGetParams, _ error) {
	q := uri.NewQueryDecoder(r.URL.Query())
	// Decode query: brokerAccountId.
	{
		cfg := uri.QueryParameterDecodingConfig{
			Name:    "brokerAccountId",
			Style:   uri.QueryStyleForm,
			Explode: true,
		}

		if err := q.HasParam(cfg); err == nil {
			if err := q.DecodeParam(cfg, func(d uri.Decoder) error {
				var paramsDotBrokerAccountIdVal string
				if err := func() error {
					val, err := d.DecodeValue()
					if err != nil {
						return err
					}

					c, err := conv.ToString(val)
					if err != nil {
						return err
					}

					paramsDotBrokerAccountIdVal = c
					return nil
				}(); err != nil {
					return err
				}
				params.BrokerAccountId.SetTo(paramsDotBrokerAccountIdVal)
				return nil
			}); err != nil {
				return params, errors.Wrap(err, "query: brokerAccountId: parse")
			}
		}
	}
	return params, nil
}

// PortfolioGetParams is parameters of GET /portfolio operation.
type PortfolioGetParams struct {
	// Номер счета (по умолчанию - Тинькофф).
	BrokerAccountId OptString `json:",omitempty"`
}

func unpackPortfolioGetParams(packed map[string]any) (params PortfolioGetParams) {
	if v, ok := packed["brokerAccountId"]; ok {
		params.BrokerAccountId = v.(OptString)
	}
	return params
}

func decodePortfolioGetParams(args [0]string, r *http.Request) (params PortfolioGetParams, _ error) {
	q := uri.NewQueryDecoder(r.URL.Query())
	// Decode query: brokerAccountId.
	{
		cfg := uri.QueryParameterDecodingConfig{
			Name:    "brokerAccountId",
			Style:   uri.QueryStyleForm,
			Explode: true,
		}

		if err := q.HasParam(cfg); err == nil {
			if err := q.DecodeParam(cfg, func(d uri.Decoder) error {
				var paramsDotBrokerAccountIdVal string
				if err := func() error {
					val, err := d.DecodeValue()
					if err != nil {
						return err
					}

					c, err := conv.ToString(val)
					if err != nil {
						return err
					}

					paramsDotBrokerAccountIdVal = c
					return nil
				}(); err != nil {
					return err
				}
				params.BrokerAccountId.SetTo(paramsDotBrokerAccountIdVal)
				return nil
			}); err != nil {
				return params, errors.Wrap(err, "query: brokerAccountId: parse")
			}
		}
	}
	return params, nil
}

// SandboxClearPostParams is parameters of POST /sandbox/clear operation.
type SandboxClearPostParams struct {
	// Номер счета (по умолчанию - Тинькофф).
	BrokerAccountId OptString `json:",omitempty"`
}

func unpackSandboxClearPostParams(packed map[string]any) (params SandboxClearPostParams) {
	if v, ok := packed["brokerAccountId"]; ok {
		params.BrokerAccountId = v.(OptString)
	}
	return params
}

func decodeSandboxClearPostParams(args [0]string, r *http.Request) (params SandboxClearPostParams, _ error) {
	q := uri.NewQueryDecoder(r.URL.Query())
	// Decode query: brokerAccountId.
	{
		cfg := uri.QueryParameterDecodingConfig{
			Name:    "brokerAccountId",
			Style:   uri.QueryStyleForm,
			Explode: true,
		}

		if err := q.HasParam(cfg); err == nil {
			if err := q.DecodeParam(cfg, func(d uri.Decoder) error {
				var paramsDotBrokerAccountIdVal string
				if err := func() error {
					val, err := d.DecodeValue()
					if err != nil {
						return err
					}

					c, err := conv.ToString(val)
					if err != nil {
						return err
					}

					paramsDotBrokerAccountIdVal = c
					return nil
				}(); err != nil {
					return err
				}
				params.BrokerAccountId.SetTo(paramsDotBrokerAccountIdVal)
				return nil
			}); err != nil {
				return params, errors.Wrap(err, "query: brokerAccountId: parse")
			}
		}
	}
	return params, nil
}

// SandboxCurrenciesBalancePostParams is parameters of POST /sandbox/currencies/balance operation.
type SandboxCurrenciesBalancePostParams struct {
	// Номер счета (по умолчанию - Тинькофф).
	BrokerAccountId OptString `json:",omitempty"`
}

func unpackSandboxCurrenciesBalancePostParams(packed map[string]any) (params SandboxCurrenciesBalancePostParams) {
	if v, ok := packed["brokerAccountId"]; ok {
		params.BrokerAccountId = v.(OptString)
	}
	return params
}

func decodeSandboxCurrenciesBalancePostParams(args [0]string, r *http.Request) (params SandboxCurrenciesBalancePostParams, _ error) {
	q := uri.NewQueryDecoder(r.URL.Query())
	// Decode query: brokerAccountId.
	{
		cfg := uri.QueryParameterDecodingConfig{
			Name:    "brokerAccountId",
			Style:   uri.QueryStyleForm,
			Explode: true,
		}

		if err := q.HasParam(cfg); err == nil {
			if err := q.DecodeParam(cfg, func(d uri.Decoder) error {
				var paramsDotBrokerAccountIdVal string
				if err := func() error {
					val, err := d.DecodeValue()
					if err != nil {
						return err
					}

					c, err := conv.ToString(val)
					if err != nil {
						return err
					}

					paramsDotBrokerAccountIdVal = c
					return nil
				}(); err != nil {
					return err
				}
				params.BrokerAccountId.SetTo(paramsDotBrokerAccountIdVal)
				return nil
			}); err != nil {
				return params, errors.Wrap(err, "query: brokerAccountId: parse")
			}
		}
	}
	return params, nil
}

// SandboxPositionsBalancePostParams is parameters of POST /sandbox/positions/balance operation.
type SandboxPositionsBalancePostParams struct {
	// Номер счета (по умолчанию - Тинькофф).
	BrokerAccountId OptString `json:",omitempty"`
}

func unpackSandboxPositionsBalancePostParams(packed map[string]any) (params SandboxPositionsBalancePostParams) {
	if v, ok := packed["brokerAccountId"]; ok {
		params.BrokerAccountId = v.(OptString)
	}
	return params
}

func decodeSandboxPositionsBalancePostParams(args [0]string, r *http.Request) (params SandboxPositionsBalancePostParams, _ error) {
	q := uri.NewQueryDecoder(r.URL.Query())
	// Decode query: brokerAccountId.
	{
		cfg := uri.QueryParameterDecodingConfig{
			Name:    "brokerAccountId",
			Style:   uri.QueryStyleForm,
			Explode: true,
		}

		if err := q.HasParam(cfg); err == nil {
			if err := q.DecodeParam(cfg, func(d uri.Decoder) error {
				var paramsDotBrokerAccountIdVal string
				if err := func() error {
					val, err := d.DecodeValue()
					if err != nil {
						return err
					}

					c, err := conv.ToString(val)
					if err != nil {
						return err
					}

					paramsDotBrokerAccountIdVal = c
					return nil
				}(); err != nil {
					return err
				}
				params.BrokerAccountId.SetTo(paramsDotBrokerAccountIdVal)
				return nil
			}); err != nil {
				return params, errors.Wrap(err, "query: brokerAccountId: parse")
			}
		}
	}
	return params, nil
}

// SandboxRemovePostParams is parameters of POST /sandbox/remove operation.
type SandboxRemovePostParams struct {
	// Номер счета (по умолчанию - Тинькофф).
	BrokerAccountId OptString `json:",omitempty"`
}

func unpackSandboxRemovePostParams(packed map[string]any) (params SandboxRemovePostParams) {
	if v, ok := packed["brokerAccountId"]; ok {
		params.BrokerAccountId = v.(OptString)
	}
	return params
}

func decodeSandboxRemovePostParams(args [0]string, r *http.Request) (params SandboxRemovePostParams, _ error) {
	q := uri.NewQueryDecoder(r.URL.Query())
	// Decode query: brokerAccountId.
	{
		cfg := uri.QueryParameterDecodingConfig{
			Name:    "brokerAccountId",
			Style:   uri.QueryStyleForm,
			Explode: true,
		}

		if err := q.HasParam(cfg); err == nil {
			if err := q.DecodeParam(cfg, func(d uri.Decoder) error {
				var paramsDotBrokerAccountIdVal string
				if err := func() error {
					val, err := d.DecodeValue()
					if err != nil {
						return err
					}

					c, err := conv.ToString(val)
					if err != nil {
						return err
					}

					paramsDotBrokerAccountIdVal = c
					return nil
				}(); err != nil {
					return err
				}
				params.BrokerAccountId.SetTo(paramsDotBrokerAccountIdVal)
				return nil
			}); err != nil {
				return params, errors.Wrap(err, "query: brokerAccountId: parse")
			}
		}
	}
	return params, nil
}
